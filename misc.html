<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="stylesheet.css">
	<title>misc.</title>
</head>

<body>

	<div class="nav bandz">
		<a href="/">𝔐ℑ𝔖ℭ</a <br>
	</div>

	<a class="misc-link" href="https://www.youtube.com/watch?v=PyKQ2itSet4">
		<p>carp smash</p>
	</a>
	<a class="misc-link" href="https://www.youtube.com/watch?v=ZrTql0qWgEI">
		<p>chrysalis</p>
	</a>
	<a class="misc-link" href="http://www.dancebums.com/wow/">
		<p>wow</p>
	</a>
	<a class="misc-link" href="https://soundcloud.com/adam-zahller/piss-lasso-prelude-mvt-1-kyrie-eleison-mvt-2-las-golosas-glosolalias-de-las-microgonadas">
		<p>piss lasso</p>
	</a>
	<a class="misc-link" href="https://www.youtube.com/watch?v=8uFoHp3jR1M">
		<p>nunc dimittis</p>
	</a>
	<a class="misc-link" href="https://sixfamilies.bandcamp.com/releases">
		<p>field rec</p>
	</a>
	<a class="misc-link" href="https://straya.bandcamp.com/album/sobereyed">
		<p>sobereyed</p>
	</a>
	<a class="misc-link" href="https://www.discogs.com/Le-Percheron-Le-Percheron/release/10418753">
		<p>le percheron</p>
	</a>
	<a class="misc-link" href="https://drone-not-drones.bandcamp.com/track/synthet">
		<p>fuck bombs</p>
	</a>


	<script>

		const links = document.querySelectorAll('.misc-link');

		links.forEach(link => {
			link.style.position = 'fixed';
			setSpeed(link);
			setInitialPlacement(link);
			setNodeDimensions(link);
			setInitalDirection(link);
			requestAnimationFrame(() => go(link));
		})

		window.addEventListener('resize', () => links.forEach(setInitialPlacement))

		// ------
		function go(node) {

			requestAnimationFrame(() => {
				const currentTop = Number(window.getComputedStyle(node)['margin-top'].split('px')[0]);
				const currentLeft = Number(window.getComputedStyle(node)['margin-left'].split('px')[0]);

				if (currentTop >= window.innerHeight - node.height * 2) {
					node.topDirection = false;
				}

				if (currentTop <= 0) {
					node.topDirection = true;
				}

				if (currentLeft >= window.innerWidth - node.width) {
					node.leftDirection = false;
				}

				if (currentLeft <= 0) {
					node.leftDirection = true;
				}

				const newTop = node.topDirection ? currentTop + node.ySpeed : currentTop - node.ySpeed;
				const newLeft = node.leftDirection ? currentLeft + node.xSpeed : currentLeft - node.xSpeed;

				node.style['margin-top'] = `${newTop}px`;
				node.style['margin-left'] = `${newLeft}px`;

				go(node);
			})
		}

		function setInitialPlacement(node) {
			node.style['margin-top'] = `${Math.round(Math.random() * window.innerHeight)}px`
			node.style['margin-left'] = `${Math.round(Math.random() * window.innerWidth)}px`
		}

		function setInitalDirection(node) {
			node.topDirection = true;
			node.leftDirection = true;
		}

		function setSpeed(node) {
			node.xSpeed = Math.random() * .8 + .2;
			node.ySpeed = Math.random() * .8 + .2;
		}

		function setNodeDimensions(node) {
			node.width = node.getBoundingClientRect().width
			node.height = node.getBoundingClientRect().height
		}


	</script>

</body>

</html>